<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>searchthisbob.com</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <img src="IMG_4611.PNG" alt="Your Logo" class="logo">
    </div>
    <div class="search-container">
        <input type="text" id="searchQuery" class="search-bar" placeholder="Search...">
        <button onclick="performSearch()" class="search-button">Search</button>
    </div>
    <div id="results"></div>
    <div id="suggestions"></div>
    <div id="pagination"></div>

    <script>
    var currentPage = 1;
    var itemsPerPage = 10;

    function performSearch(page = 1) {
        currentPage = page;
        var query = document.getElementById('searchQuery').value;
        var api_key = 'AIzaSyCCzC0NpHjxO2qila6BkRPABluXAvOk40s'; // Replace with your actual API key
        var cx = 'f0678ce663ba24a3b'; // Replace with your actual Custom Search Engine ID
        var startIndex = (page - 1) * itemsPerPage + 1;
        var url = `https://www.googleapis.com/customsearch/v1?q=${encodeURIComponent(query)}&key=${api_key}&cx=${cx}&start=${startIndex}`;

        fetch(url)
            .then(response => response.json())
            .then(data => {
                displayResults(data);
                displaySuggestions(data);
                displayPagination(data.queries);
            });
    }

    function displayResults(data) {
        var resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = '';

        data.items.forEach(item => {
            var element = document.createElement('div');
            element.classList.add('search-result');

            // Adding title, link, snippet, and meta information
            element.innerHTML += `<h2><a href="${item.link}" class="result-title">${item.title}</a></h2>`;
            element.innerHTML += `<a href="${item.link}" class="result-link">${item.displayLink}</a>`;
            element.innerHTML += `<p class="result-snippet">${item.snippet}</p>`;
            if (item.pagemap) {
                var metaInfo = item.pagemap.metatags && item.pagemap.metatags[0];
                if (metaInfo) {
                    element.innerHTML += `<div class="meta-info">${metaInfo['og:description'] || ''}</div>`;
                }
            }

            resultsDiv.appendChild(element);
        });
    }

    function displaySuggestions(data) {
        // Implement logic to display "People also ask" section
        // This requires processing and interpreting additional data
    }

    function displayPagination(queries) {
        var paginationDiv = document.getElementById('pagination');
        paginationDiv.innerHTML = '';

        if (queries.nextPage || queries.previousPage) {
            var nav = document.createElement('nav');
            nav.classList.add('pagination-nav');

            // Previous Page
            if (queries.previousPage) {
                var prevPage = queries.previousPage[0].startIndex / itemsPerPage;
                nav.innerHTML += `<button onclick="performSearch(${prevPage})">Previous</button>`;
            }

            // Current Page
            nav.innerHTML += `<span>Page ${currentPage}</span>`;

            // Next Page
            if (queries.nextPage) {
                var nextPage = queries.nextPage[0].startIndex / itemsPerPage;
                nav.innerHTML += `<button onclick="performSearch(${nextPage})">Next</button>`;
            }

            paginationDiv.appendChild(nav);
        }
    }
    </script>
</body>
</html>
